<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö—É–±–∏–∫ –†—É–±–∏–∫–∞ 3D | Rubiks Cube 3D</title>
    <link rel="shortcut icon" href="TemplateData/favicon.ico">
    <link rel="stylesheet" href="TemplateData/style.css">
    <link rel="stylesheet" href="TemplateData/diagnostics.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="TemplateData/diagnostics.js"></script>
    <link rel="stylesheet" href="css/main.css">
  </head>


  <script src="Build/WebGLBuild.loader.js"></script>
  <script>
    const canvas = document.querySelector("#unity-canvas");
  
    const config = {
      dataUrl: "Build/WebGLBuild.data",
      frameworkUrl: "Build/WebGLBuild.framework.js",
      codeUrl: "Build/WebGLBuild.wasm",
    };
  
    createUnityInstance(canvas, config).then((instance) => {
      window.unityInstance = instance;
      console.log("Unity loaded");
    });
  </script>

  <body>
    <!-- –®–∞–ø–∫–∞ -->
    <div class="header">
      <h1>–ö—É–±–∏–∫ –†—É–±–∏–∫–∞ 3D</h1>
      <p>–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è 3D —Å–∏–º—É–ª—è—Ü–∏—è –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–π –≥–æ–ª–æ–≤–æ–ª–æ–º–∫–∏</p>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div class="main-container">
      <!-- –ò–≥—Ä–æ–≤–∞—è –æ–±–ª–∞—Å—Ç—å -->
      <div class="game-section">
        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä—ã -->
        <div class="stats-section">
          <div class="stats-overlay">
            <div class="stat-item">
              <div class="stat-title">
                <span class="stat-icon">‚è±Ô∏è</span>
                <span>–¢–ê–ô–ú–ï–†</span>
              </div>
              <div class="stat-timer">
                <div class="stat-value" id="TimeM">00</div>
                <div class="stat-value" id="Time:">:</div>
                <div class="stat-value" id="TimeS">00</div>
              </div>
            </div>

            <div class="stat-item">
              <div class="stat-title">
                <span class="stat-icon">üë£</span>
                <span>–®–ê–ì–ò</span>
              </div>
              <div class="stat-value" id="Step">0</div>
            </div>

            <div class="stat-item">
              <div class="stat-title">
                <span class="stat-icon">‚ö°</span>
                <span>–°–ö–û–†–û–°–¢–¨</span>
              </div>
              <div class="stat-value" id="Speed">1.0x</div>
            </div>
          </div>
        </div>

        <div class="game-wrapper">
          <div id="unity-container" class="unity-desktop">
            <canvas id="unity-canvas" width=1200 height=800 tabindex="-1"></canvas>
            <div id="unity-loading-bar">
              <div id="unity-logo"></div>
              <div id="unity-progress-bar-empty">
                <div id="unity-progress-bar-full"></div>
              </div>
            </div>
            <div id="unity-warning"> </div>
            <div id="unity-footer">
              <div id="unity-webgl-logo"></div>
              <div id="unity-fullscreen-button"></div>
              <img id="diagnostics-icon" src="TemplateData/webmemd-icon.png">
              <div id="unity-build-title">Rubiks Cube 3D</div>
            </div>
          </div>
        </div>
      </div>

      <!-- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
      <div class="controls-section">
        <div class="controls-panel">
          <h2 class="controls-title">üéÆ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</h2>

          <div class="button-group">
            <div class="button-group-title">–î–µ–π—Å—Ç–≤–∏—è</div>
            <button id="solve-button" class="unity-button" onclick="solveCube()" disabled>
              <span>üéØ</span>
              <span>–†–µ—à–∏—Ç—å –∫—É–±–∏–∫</span>
            </button>
            <button id="stats-button" class="unity-button" onclick="showStats()" disabled>
              <span>üìä</span>
              <span>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</span>
            </button>

            <div class="button-group">
              <div class="button-group-title">üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ</div>
              <button id="save-button" class="unity-button" onclick="sendCommand('SAVE_GAME')" disabled>
                <span>üíæ</span>
                <span>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ —Ñ–∞–π–ª</span>
              </button>
              <button id="load-button" class="unity-button" onclick="triggerLoad()" disabled>
                <span>üìÇ</span>
                <span>–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ —Ñ–∞–π–ª–∞</span>
              </button>
              <button id="export-stats-button" class="unity-button" onclick="exportStats()" disabled>
                <span>üìä</span>
                <span>–≠–∫—Å–ø–æ—Ä—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏</span>
              </button>
              <button onclick="logout()">Logout</button>
            </div>

          <!-- –°–ª–∞–π–¥–µ—Ä —Å–∫–æ—Ä–æ—Å—Ç–∏ -->
          <div class="button-group">
            <div class="button-group-title">–°–∫–æ—Ä–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏</div>
            <div class="speed-control">
              <div class="speed-label">
                <span>–ú–µ–¥–ª–µ–Ω–Ω–æ</span>
                <span>–ë—ã—Å—Ç—Ä–æ</span>
              </div>
              <input type="range" min="0.1" max="5" step="0.1" value="1" class="speed-slider" id="speed-slider" oninput="updateSpeed(this.value)">
            </div>
          </div>

          <div class="button-group">
            <div class="button-group-title">–°—Ç–∏–ª–∏ –∫—É–±–∏–∫–∞</div>
            <div class="colors-grid">
              <button id="pastel-button" class="color-button" onclick="handleButtonClick('Pastel')" disabled>
                Pastel
              </button>
              <button id="standard-button" class="color-button" onclick="handleButtonClick('Standart')" disabled>
                Standard
              </button>
              <button id="neon-button" class="color-button" onclick="handleButtonClick('Neon')" disabled>
                Neon
              </button>
              <button id="grey-button" class="color-button" onclick="handleButtonClick('Grey')" disabled>
                Grey
              </button>
            </div>
          </div>

          <div class="instructions">
            <h3>üéØ –ö–∞–∫ –∏–≥—Ä–∞—Ç—å:</h3>
            <ul>
              <li>–í—Ä–∞—â–∞–π—Ç–µ —Å—Ç–æ—Ä–æ–Ω—ã –∫—É–±–∏–∫–∞ –º—ã—à–∫–æ–π</li>
              <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–ª—ë—Å–∏–∫–æ –¥–ª—è –∑—É–º–∞</li>
              <li>–ù–∞–∂–º–∏—Ç–µ –∏ —É–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –¥–ª—è –≤—Ä–∞—â–µ–Ω–∏—è –∫—É–±–∏–∫–∞</li>
              <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –∞–≤—Ç–æ–ø–æ–≤–æ—Ä–æ—Ç–æ–≤</li>
            </ul>
          </div>
        </div>
      </div>
    </div>




    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è -->
    <div id="warning-modal" class="modal-overlay" onclick="if(event.target === this) closeWarning()">
      <div class="modal-content">
        <div class="modal-header">
          <button class="modal-close" onclick="closeWarning()" aria-label="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>
          <div class="modal-icon">‚ö†Ô∏è</div>
          <h2 class="modal-title">–í–Ω–∏–º–∞–Ω–∏–µ!</h2>
        </div>
        <div class="modal-body">
          <div class="modal-message">
            –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ü–≤–µ—Ç–∞ –∫—É–±–∏–∫ –±—É–¥–µ—Ç <strong>—Å–±—Ä–æ—à–µ–Ω</strong> –¥–æ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.<br><br>
            –í—Å–µ —Ç–µ–∫—É—â–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±—É–¥—É—Ç –ø–æ—Ç–µ—Ä—è–Ω—ã.<br><br>
            –í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å?
          </div>
          <div class="modal-buttons">
            <button class="modal-button modal-button-cancel" onclick="closeWarning()">
              <span>–û—Ç–º–µ–Ω–∞</span>
            </button>
            <button class="modal-button modal-button-confirm" onclick="confirmColorChange()">
              <span>–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</span>
            </button>
          </div>
        </div>
      </div>
    </div>

    <div id="win-modal" class="modal-overlay" onclick="if(event.target === this) closeWinModal()">
      <div class="modal-content">
        <div class="modal-header">
          <button class="modal-close" onclick="closeWinModal()" aria-label="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>
          <div class="modal-icon">üèÜ</div>
          <h2 class="modal-title">–ü–û–ë–ï–î–ê!</h2>
        </div>
        <div class="modal-body">
          <div class="modal-message">
            <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–≥—Ä—ã -->
            <div class="win-results">
              <div class="win-stat-item">
                <div class="win-stat-title">
                  <span class="win-stat-icon">‚è±Ô∏è</span>
                  <span>–í–†–ï–ú–Ø</span>
                </div>
                <div class="win-stat-value">
                  <span id="win-time">00:00</span>
                </div>
              </div>

              <div class="win-stat-item">
                <div class="win-stat-title">
                  <span class="win-stat-icon">üë£</span>
                  <span>–®–ê–ì–ò</span>
                </div>
                <div class="win-stat-value">
                  <span id="win-steps">0</span>
                </div>
              </div>

              <div class="win-stat-item">
                <div class="win-stat-title">
                  <span class="win-stat-icon">‚ö°</span>
                  <span>–°–ö–û–†–û–°–¢–¨</span>
                </div>
                <div class="win-stat-value">
                  <span id="win-speed">1.0x</span>
                </div>
              </div>

              <div class="win-stat-item">
                <div class="win-stat-title">
                  <span class="win-stat-icon">üìÖ</span>
                  <span>–î–ê–¢–ê</span>
                </div>
                <div class="win-stat-value">
                  <span id="Date">--.--.----</span>
                </div>
              </div>
            </div>
          </div>
          <div class="modal-buttons">
            <button class="modal-button modal-button-cancel" onclick="closeWinModal()">
              <span>–ó–∞–∫—Ä—ã—Ç—å</span>
            </button>
            <button class="modal-button modal-button-confirm" onclick="restartGame()">
              <span>–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</span>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
    <div id="stats-modal" class="modal-overlay" onclick="if(event.target === this) closeStats()">
      <div class="modal-content">
        <div class="modal-header">
          <button class="modal-close" onclick="closeStats()" aria-label="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>
          <h2 class="modal-title">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä—ã</h2>
        </div>
        <div class="modal-body">
          <div id="stats-content">–ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏...</div>
          <div class="modal-buttons" style="border-top: none; margin-top: 20px; padding-top: 0;">
            <button class="modal-button modal-button-confirm" onclick="closeStats()" style="width: 100%;">
              <span>–ó–∞–∫—Ä—ã—Ç—å</span>
            </button>
          </div>
        </div>
      </div>
    </div>
    <script src="js/unity.js"></script>
  </body>
</html>